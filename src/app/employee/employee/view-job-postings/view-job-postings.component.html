<nav class="navbar">
  <div class="container">
    <!-- Left side: RevHire -->
    <div class="left-nav">
      <a class="nav-link active">RevHire</a>
    </div>

    <!-- Centered Links: Jobs, Companies, Services -->
    <div class="center-nav">
      <!-- Jobs Hover Effect with Default Jobs -->
      <div class="nav-item">
        <a (click)="navigateToHomePage()" routerLinkActive="active-link">Home</a>
      </div>
      <div class="nav-item">
        <a (click)="navigateToPostJobsPage()" routerLinkActive="active-link">Post Jobs</a>
      </div>

      <!-- Companies Hover Effect with Default Companies -->
      <div class="nav-item">
        <a (click)="navigateToViewJobPostings()" class="nav-link home-link" routerLinkActive="active-link">View Job Postings</a>
      </div>

      <!-- Services Hover Effect -->
      <div class="nav-item">
    
      </div>
    </div>


    <!-- Right side: Profile and Logout -->
    <div class="right-nav">
      <!-- Display full name before the Profile button -->
      <span class="user-name">{{ fullName }}</span> <!-- Show fullName here -->
      <div class="dropdown">
        <i class="fas fa-user-circle profile-icon"></i>
        <div class="dropdown-content">
          <a (click)="navigateToProfile()" routerLinkActive="active-link">View Profile</a>

          <a (click)="navigateToUpdateProfile()" routerLinkActive="active-link">Update Profile</a>
            </div>
      </div>
      
      <!-- Logout Button -->
      <button class="logout-btn" (click)="logout()">Logout</button>
    </div>
  </div>


</nav>






























<a 
(click)="navigateToHomePage()" 
  class="home"
>
<i class="fas fa-arrow-left"></i>
</a>
<div *ngIf="jobPostings.length > 0; else noJobPostings" class="profile-container">
  <h2 class="profile-title">Job Postings for {{ fullName }}</h2>

  <div class="card-container">
    <!-- Display details for each job posting -->
    <div *ngFor="let posting of jobPostings; let i = index" class="job-posting-card">
      
      <div class="card-header">
        <h3>{{ posting.jobTitle }}</h3>
        <span class="company-name">{{ posting.companyName }}</span>
      </div>

      <div class="card-body">
        <p><strong>Location:</strong> {{ posting.location }}</p>
        <p><strong>Employment Type:</strong> {{ posting.employmentType }}</p>
        <p><strong>Salary:</strong> {{ posting.salary }}</p>
        <!--<p><strong>Job Description:</strong> {{ posting.jobDescription }}</p>
        <p><strong>Roles and Responsibilities:</strong> {{ posting.rolesAndResponsibilities }}</p>-->
        <p><strong>Job Category:</strong> {{ posting.jobCategory }}</p>
        <p><strong>Skills:</strong> {{ posting.skills }}</p>
        <p><strong>Experience:</strong> {{ posting.experience }}</p>
        <p><strong>Education:</strong> {{ posting.education }}</p>
        <p><strong>Number of Openings:</strong> {{ posting.numberOfOpenings }}</p>
        <p><strong>Last Date to Apply:</strong> {{ posting.lastDate | date }}</p>
      </div>

      <!-- Action buttons at the bottom of the card -->
      <div class="card-footer">
        <div class="actions">
          <div class="applicant-count">
            <!-- Only display the applicant count if posting.id is valid -->
            <button
            *ngIf="posting.id && applicantCounts[posting.id] !== undefined"
            [ngClass]="{
              'highlight-job-button': isHighApplicantCount(posting.id),
              'low-applicant-job-button': !isHighApplicantCount(posting.id)
            }"
            (click)="navigateToResumeDetails(posting.id)"
            class="tooltip-button"
          >
            {{ applicantCounts[posting.id] }}
            <span class="tooltip-text">Check for resumes</span>
          </button>
          
          </div>
      
          <div class="action-buttons">
            <button
              *ngIf="posting.id && applicantCounts[posting.id] < 1"
              class="delete-button"
              (click)="deleteJobPosting(posting.id)"
            >
              Delete
            </button>
            <button
              class="update-button"
              (click)="posting.id !== undefined && navigateToUpdateApplication(posting.id)"
            >
              Update
            </button>
          </div>
        </div>
      </div>
      
    </div>
  </div>
</div>

<ng-template #noJobPostings>
  <p class="no-job-postings">No job postings found for the selected ID.</p>
</ng-template>

<footer class="footer">
  <p>&copy; 2024 RevHire. All Rights Reserved.</p>
</footer>
